{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _save = _interopRequireDefault(require(\"../operations/save\"));\n\nvar _restore = _interopRequireDefault(require(\"../operations/restore\"));\n\nconst drawImage = ctx => node => {\n  const {\n    x,\n    y\n  } = node.props;\n  const {\n    width,\n    height,\n    opacity\n  } = node.style;\n  const paddingTop = node.box.paddingLeft || 0;\n  const paddingLeft = node.box.paddingLeft || 0;\n\n  if (node.image.data) {\n    if (width !== 0 && height !== 0) {\n      ctx.fillOpacity(opacity || 1).image(node.image.data, x + paddingLeft, y + paddingTop, {\n        width,\n        height\n      });\n    } else {\n      console.warn(`Image with src '${node.props.href}' skipped due to invalid dimensions`);\n    }\n  }\n\n  return node;\n};\n\nconst renderImage = (ctx, node) => {\n  R.compose((0, _restore.default)(ctx), drawImage(ctx), (0, _save.default)(ctx))(node);\n  return node;\n};\n\nvar _default = R.curryN(2, renderImage);\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/kaja/Code/mallar/app/node_modules/@react-pdf/render/lib/primitives/renderSvgImage.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","default","R","_save","_restore","drawImage","ctx","node","x","y","props","width","height","opacity","style","paddingTop","box","paddingLeft","image","data","fillOpacity","console","warn","href","renderImage","compose","_default","curryN"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEA,IAAIC,uBAAuB,GAAGD,OAAO,CAAC,+CAAD,CAArC;;AAEAE,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,CAAC,GAAGJ,uBAAuB,CAACD,OAAO,CAAC,OAAD,CAAR,CAA/B;;AAEA,IAAIM,KAAK,GAAGP,sBAAsB,CAACC,OAAO,CAAC,oBAAD,CAAR,CAAlC;;AAEA,IAAIO,QAAQ,GAAGR,sBAAsB,CAACC,OAAO,CAAC,uBAAD,CAAR,CAArC;;AAEA,MAAMQ,SAAS,GAAGC,GAAG,IAAIC,IAAI,IAAI;AAC/B,QAAM;AACJC,IAAAA,CADI;AAEJC,IAAAA;AAFI,MAGFF,IAAI,CAACG,KAHT;AAIA,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,MAFI;AAGJC,IAAAA;AAHI,MAIFN,IAAI,CAACO,KAJT;AAKA,QAAMC,UAAU,GAAGR,IAAI,CAACS,GAAL,CAASC,WAAT,IAAwB,CAA3C;AACA,QAAMA,WAAW,GAAGV,IAAI,CAACS,GAAL,CAASC,WAAT,IAAwB,CAA5C;;AAEA,MAAIV,IAAI,CAACW,KAAL,CAAWC,IAAf,EAAqB;AACnB,QAAIR,KAAK,KAAK,CAAV,IAAeC,MAAM,KAAK,CAA9B,EAAiC;AAC/BN,MAAAA,GAAG,CAACc,WAAJ,CAAgBP,OAAO,IAAI,CAA3B,EAA8BK,KAA9B,CAAoCX,IAAI,CAACW,KAAL,CAAWC,IAA/C,EAAqDX,CAAC,GAAGS,WAAzD,EAAsER,CAAC,GAAGM,UAA1E,EAAsF;AACpFJ,QAAAA,KADoF;AAEpFC,QAAAA;AAFoF,OAAtF;AAID,KALD,MAKO;AACLS,MAAAA,OAAO,CAACC,IAAR,CAAc,mBAAkBf,IAAI,CAACG,KAAL,CAAWa,IAAK,qCAAhD;AACD;AACF;;AAED,SAAOhB,IAAP;AACD,CAzBD;;AA2BA,MAAMiB,WAAW,GAAG,CAAClB,GAAD,EAAMC,IAAN,KAAe;AACjCL,EAAAA,CAAC,CAACuB,OAAF,CAAU,CAAC,GAAGrB,QAAQ,CAACH,OAAb,EAAsBK,GAAtB,CAAV,EAAsCD,SAAS,CAACC,GAAD,CAA/C,EAAsD,CAAC,GAAGH,KAAK,CAACF,OAAV,EAAmBK,GAAnB,CAAtD,EAA+EC,IAA/E;AACA,SAAOA,IAAP;AACD,CAHD;;AAKA,IAAImB,QAAQ,GAAGxB,CAAC,CAACyB,MAAF,CAAS,CAAT,EAAYH,WAAZ,CAAf;;AAEAzB,OAAO,CAACE,OAAR,GAAkByB,QAAlB","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _save = _interopRequireDefault(require(\"../operations/save\"));\n\nvar _restore = _interopRequireDefault(require(\"../operations/restore\"));\n\nconst drawImage = ctx => node => {\n  const {\n    x,\n    y\n  } = node.props;\n  const {\n    width,\n    height,\n    opacity\n  } = node.style;\n  const paddingTop = node.box.paddingLeft || 0;\n  const paddingLeft = node.box.paddingLeft || 0;\n\n  if (node.image.data) {\n    if (width !== 0 && height !== 0) {\n      ctx.fillOpacity(opacity || 1).image(node.image.data, x + paddingLeft, y + paddingTop, {\n        width,\n        height\n      });\n    } else {\n      console.warn(`Image with src '${node.props.href}' skipped due to invalid dimensions`);\n    }\n  }\n\n  return node;\n};\n\nconst renderImage = (ctx, node) => {\n  R.compose((0, _restore.default)(ctx), drawImage(ctx), (0, _save.default)(ctx))(node);\n  return node;\n};\n\nvar _default = R.curryN(2, renderImage);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}