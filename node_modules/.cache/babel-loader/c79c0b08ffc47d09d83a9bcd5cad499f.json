{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/inheritsLoose';\nimport React from 'react';\nimport * as primitives from '@react-pdf/primitives';\nexport * from '@react-pdf/primitives';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport BlobStream from 'blob-stream';\nimport FontStore from '@react-pdf/font';\nimport renderPDF from '@react-pdf/render';\nimport PDFDocument from '@react-pdf/pdfkit';\nimport layoutDocument from '@react-pdf/layout';\nimport ReactFiberReconciler from 'react-reconciler';\nimport { unstable_scheduleCallback, unstable_cancelCallback } from 'scheduler';\n/* eslint-disable no-continue */\n\n/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\n\nvar propsEqual = function propsEqual(a, b) {\n  var oldPropsKeys = Object.keys(a);\n  var newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (var i = 0; i < oldPropsKeys.length; i += 1) {\n    var propName = oldPropsKeys[i];\n\n    if (propName === 'render' && !a[propName] !== !b[propName]) {\n      return false;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (typeof a[propName] === 'object' && typeof b[propName] === 'object' && propsEqual(a[propName], b[propName])) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (propName === 'children' && (typeof a[propName] === 'string' || typeof b[propName] === 'string')) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nvar emptyObject = {};\n\nvar createRenderer = function createRenderer(_ref) {\n  var _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange;\n  return ReactFiberReconciler({\n    schedulePassiveEffects: unstable_scheduleCallback,\n    cancelPassiveEffects: unstable_cancelCallback,\n    supportsMutation: true,\n    isPrimaryRenderer: false,\n    warnsIfNotActing: false,\n    appendInitialChild: function appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n    createInstance: function createInstance(type, _ref2) {\n      var style = _ref2.style,\n          children = _ref2.children,\n          props = _objectWithoutPropertiesLoose(_ref2, [\"style\", \"children\"]);\n\n      return {\n        type: type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: []\n      };\n    },\n    createTextInstance: function createTextInstance(text, rootContainerInstance) {\n      return {\n        type: 'TEXT_INSTANCE',\n        value: text\n      };\n    },\n    finalizeInitialChildren: function finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n    getPublicInstance: function getPublicInstance(instance) {\n      return instance;\n    },\n    prepareForCommit: function prepareForCommit() {// Noop\n    },\n    prepareUpdate: function prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n    resetAfterCommit: onChange,\n    resetTextContent: function resetTextContent(element) {// Noop\n    },\n    getRootHostContext: function getRootHostContext() {\n      return emptyObject;\n    },\n    getChildHostContext: function getChildHostContext() {\n      return emptyObject;\n    },\n    shouldSetTextContent: function shouldSetTextContent(type, props) {\n      return false;\n    },\n    now: Date.now,\n    useSyncScheduling: true,\n    appendChild: function appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n    appendChildToContainer: function appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n    insertBefore: function insertBefore(parentInstance, child, beforeChild) {\n      var index = parentInstance.children.indexOf(beforeChild);\n      if (index !== -1 && child) parentInstance.children.splice(index, 0, child);\n    },\n    removeChild: function removeChild(parentInstance, child) {\n      var index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n    removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {\n      var index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n    commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n    commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      var style = newProps.style,\n          props = _objectWithoutPropertiesLoose(newProps, [\"style\"]);\n\n      instance.props = props;\n      instance.style = style;\n    }\n  });\n};\n\nvar version = \"2.0.0-beta.13\";\nvar fontStore = new FontStore();\n\nvar pdf = function pdf(_ref) {\n  var initialValue = _ref.initialValue,\n      onChange = _ref.onChange;\n  var container = {\n    type: 'ROOT',\n    document: null\n  };\n  var PDFRenderer = createRenderer({\n    onChange: onChange\n  });\n  var mountNode = PDFRenderer.createContainer(container);\n\n  var updateContainer = function updateContainer(doc) {\n    PDFRenderer.updateContainer(doc, mountNode, null);\n  };\n\n  if (initialValue) updateContainer(initialValue);\n\n  var render = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ctx, layout;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ctx = new PDFDocument({\n                autoFirstPage: false\n              });\n              _context.next = 3;\n              return layoutDocument(container.document, fontStore);\n\n            case 3:\n              layout = _context.sent;\n              return _context.abrupt(\"return\", renderPDF(ctx, layout));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function render() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var callOnRender = function callOnRender(params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  };\n\n  var toBlob = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var instance, stream;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return render();\n\n            case 2:\n              instance = _context2.sent;\n              stream = instance.pipe(BlobStream());\n              return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                stream.on('finish', function () {\n                  try {\n                    var blob = stream.toBlob('application/pdf');\n                    callOnRender({\n                      blob: blob\n                    });\n                    resolve(blob);\n                  } catch (error) {\n                    reject(error);\n                  }\n                });\n                stream.on('error', reject);\n              }));\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function toBlob() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var toBuffer = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              callOnRender();\n              return _context3.abrupt(\"return\", render());\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function toBuffer() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var toString = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var result, instance;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              result = '';\n              _context4.next = 3;\n              return render();\n\n            case 3:\n              instance = _context4.sent;\n              return _context4.abrupt(\"return\", new Promise(function (resolve, reject) {\n                try {\n                  instance.on('data', function (buffer) {\n                    result += buffer;\n                  });\n                  instance.on('end', function () {\n                    resolve(result);\n                  });\n                } catch (error) {\n                  reject(error);\n                }\n              }));\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function toString() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return {\n    container: container,\n    toBlob: toBlob,\n    toBuffer: toBuffer,\n    toString: toString,\n    updateContainer: updateContainer\n  };\n};\n\nvar Font = fontStore;\nvar StyleSheet = {\n  create: function create(s) {\n    return s;\n  }\n};\n\nvar queue = require('queue');\n\nvar InternalBlobProvider = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(InternalBlobProvider, _React$PureComponent);\n\n  function InternalBlobProvider() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.renderQueue = queue({\n      autostart: true,\n      concurrency: 1\n    });\n    _this.state = {\n      blob: null,\n      url: null,\n      loading: true,\n      error: null\n    };\n\n    _this.queueDocumentRender = function () {\n      _this.renderQueue.splice(0, _this.renderQueue.length, function () {\n        return _this.state.error ? Promise.resolve() : _this.instance.toBlob();\n      });\n    };\n\n    _this.onRenderFailed = function (error) {\n      _this.setState({\n        error: error\n      });\n\n      console.error(error);\n    };\n\n    _this.onRenderSuccessful = function (blob) {\n      var oldBlobUrl = _this.state.url;\n\n      _this.setState({\n        blob: blob,\n        url: URL.createObjectURL(blob),\n        loading: false\n      }, function () {\n        return URL.revokeObjectURL(oldBlobUrl);\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = InternalBlobProvider.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.instance = pdf({\n      onChange: this.queueDocumentRender\n    });\n    this.instance.updateContainer(this.props.document);\n    this.renderQueue.on('error', this.onRenderFailed);\n    this.renderQueue.on('success', this.onRenderSuccessful);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.instance.updateContainer(this.props.document);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.renderQueue.end();\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.state);\n  };\n\n  return InternalBlobProvider;\n}(React.PureComponent);\n\nvar BlobProvider = function BlobProvider(_ref) {\n  var doc = _ref.document,\n      children = _ref.children;\n\n  if (!doc) {\n    console.warn('You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(InternalBlobProvider, {\n    document: doc\n  }, children);\n};\n\nvar PDFViewer = function PDFViewer(_ref2) {\n  var className = _ref2.className,\n      style = _ref2.style,\n      title = _ref2.title,\n      children = _ref2.children,\n      innerRef = _ref2.innerRef,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"className\", \"style\", \"title\", \"children\", \"innerRef\"]);\n\n  return /*#__PURE__*/React.createElement(InternalBlobProvider, {\n    document: children\n  }, function (_ref3) {\n    var url = _ref3.url;\n    return /*#__PURE__*/React.createElement(\"iframe\", _extends({\n      src: url,\n      title: title,\n      ref: innerRef,\n      style: style,\n      className: className\n    }, props));\n  });\n};\n\nvar PDFDownloadLink = function PDFDownloadLink(_ref4) {\n  var doc = _ref4.document,\n      className = _ref4.className,\n      style = _ref4.style,\n      children = _ref4.children,\n      _ref4$fileName = _ref4.fileName,\n      fileName = _ref4$fileName === void 0 ? 'document.pdf' : _ref4$fileName;\n\n  if (!doc) {\n    console.warn('You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  var downloadOnIE = function downloadOnIE(blob) {\n    return function () {\n      if (window.navigator.msSaveBlob) {\n        window.navigator.msSaveBlob(blob, fileName);\n      }\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(InternalBlobProvider, {\n    document: doc\n  }, function (params) {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      style: style,\n      href: params.url,\n      download: fileName,\n      className: className,\n      onClick: downloadOnIE(params.blob)\n    }, typeof children === 'function' ? children(params) : children);\n  });\n};\n\nvar throwEnvironmentError = function throwEnvironmentError(name) {\n  throw new Error(name + \" is a Node specific API. You're either using this method in a browser, or your bundler is not loading react-pdf from the appropriate web build.\");\n};\n\nvar renderToStream = function renderToStream() {\n  throwEnvironmentError('renderToStream');\n};\n\nvar renderToString = function renderToString() {\n  throwEnvironmentError('renderToString');\n};\n\nvar renderToFile = function renderToFile() {\n  throwEnvironmentError('renderToFile');\n};\n\nvar render = function render() {\n  throwEnvironmentError('render');\n};\n\nvar dom = _extends({\n  pdf: pdf,\n  Font: Font,\n  version: version,\n  StyleSheet: StyleSheet,\n  PDFViewer: PDFViewer,\n  BlobProvider: BlobProvider,\n  PDFDownloadLink: PDFDownloadLink,\n  renderToStream: renderToStream,\n  renderToString: renderToString,\n  renderToFile: renderToFile,\n  render: render\n}, primitives);\n\nexport default dom;\nexport { BlobProvider, Font, PDFDownloadLink, PDFViewer, StyleSheet, pdf, render, renderToFile, renderToStream, renderToString, version };","map":{"version":3,"sources":["../src/propsEqual.js","../src/renderer.js","../src/index.js","../src/dom.js"],"names":["propsEqual","oldPropsKeys","Object","newPropsKeys","i","propName","a","b","emptyObject","createRenderer","onChange","ReactFiberReconciler","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","isPrimaryRenderer","warnsIfNotActing","appendInitialChild","parentInstance","createInstance","style","children","props","type","box","createTextInstance","value","text","finalizeInitialChildren","getPublicInstance","prepareForCommit","prepareUpdate","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChild","appendChildToContainer","insertBefore","index","removeChild","removeChildFromContainer","commitTextUpdate","textInstance","commitUpdate","newProps","instance","fontStore","pdf","initialValue","container","document","PDFRenderer","mountNode","updateContainer","render","ctx","autoFirstPage","layout","layoutDocument","renderPDF","callOnRender","params","toBlob","stream","BlobStream","blob","resolve","reject","toBuffer","toString","result","Font","StyleSheet","create","queue","require","InternalBlobProvider","React","PureComponent","renderQueue","autostart","concurrency","state","url","loading","error","componentDidMount","queueDocumentRender","componentDidUpdate","componentWillUnmount","Promise","onRenderFailed","console","onRenderSuccessful","oldBlobUrl","URL","BlobProvider","doc","PDFViewer","className","title","innerRef","PDFDownloadLink","fileName","downloadOnIE","window","throwEnvironmentError","name","renderToStream","renderToString","renderToFile","version"],"mappings":"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","sourcesContent":["/* eslint-disable no-continue */\n\n/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\nconst propsEqual = (a, b) => {\n  const oldPropsKeys = Object.keys(a);\n  const newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < oldPropsKeys.length; i += 1) {\n    const propName = oldPropsKeys[i];\n\n    if (propName === 'render' && !a[propName] !== !b[propName]) {\n      return false;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (\n        typeof a[propName] === 'object' &&\n        typeof b[propName] === 'object' &&\n        propsEqual(a[propName], b[propName])\n      ) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (\n      propName === 'children' &&\n      (typeof a[propName] === 'string' || typeof b[propName] === 'string')\n    ) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nexport default propsEqual;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-param-reassign */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport {\n  unstable_scheduleCallback as schedulePassiveEffects,\n  unstable_cancelCallback as cancelPassiveEffects,\n} from 'scheduler';\n\nimport propsEqual from './propsEqual';\n\nconst emptyObject = {};\n\nconst createRenderer = ({ onChange = () => {} }) => {\n  return ReactFiberReconciler({\n    schedulePassiveEffects,\n\n    cancelPassiveEffects,\n\n    supportsMutation: true,\n\n    isPrimaryRenderer: false,\n\n    warnsIfNotActing: false,\n\n    appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    createInstance(type, { style, children, ...props }) {\n      return {\n        type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: [],\n      };\n    },\n\n    createTextInstance(text, rootContainerInstance) {\n      return { type: 'TEXT_INSTANCE', value: text };\n    },\n\n    finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    prepareForCommit() {\n      // Noop\n    },\n\n    prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n\n    resetAfterCommit: onChange,\n\n    resetTextContent(element) {\n      // Noop\n    },\n\n    getRootHostContext() {\n      return emptyObject;\n    },\n\n    getChildHostContext() {\n      return emptyObject;\n    },\n\n    shouldSetTextContent(type, props) {\n      return false;\n    },\n\n    now: Date.now,\n\n    useSyncScheduling: true,\n\n    appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n\n    insertBefore(parentInstance, child, beforeChild) {\n      const index = parentInstance.children.indexOf(beforeChild);\n      if (index !== -1 && child)\n        parentInstance.children.splice(index, 0, child);\n    },\n\n    removeChild(parentInstance, child) {\n      const index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    removeChildFromContainer(parentInstance, child) {\n      const index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n\n    commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      const { style, ...props } = newProps;\n      instance.props = props;\n      instance.style = style;\n    },\n  });\n};\n\nexport default createRenderer;\n","import BlobStream from 'blob-stream';\nimport FontStore from '@react-pdf/font';\nimport renderPDF from '@react-pdf/render';\nimport PDFDocument from '@react-pdf/pdfkit';\nimport layoutDocument from '@react-pdf/layout';\n\nimport createRenderer from './renderer';\nimport { version } from '../package.json';\n\nconst fontStore = new FontStore();\n\nconst pdf = ({ initialValue, onChange }) => {\n  const container = { type: 'ROOT', document: null };\n  const PDFRenderer = createRenderer({ onChange });\n  const mountNode = PDFRenderer.createContainer(container);\n\n  const updateContainer = doc => {\n    PDFRenderer.updateContainer(doc, mountNode, null);\n  };\n\n  if (initialValue) updateContainer(initialValue);\n\n  const render = async () => {\n    const ctx = new PDFDocument({ autoFirstPage: false });\n    const layout = await layoutDocument(container.document, fontStore);\n\n    return renderPDF(ctx, layout);\n  };\n\n  const callOnRender = (params = {}) => {\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  };\n\n  const toBlob = async () => {\n    const instance = await render();\n    const stream = instance.pipe(BlobStream());\n\n    return new Promise((resolve, reject) => {\n      stream.on('finish', () => {\n        try {\n          const blob = stream.toBlob('application/pdf');\n          callOnRender({ blob });\n          resolve(blob);\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      stream.on('error', reject);\n    });\n  };\n\n  const toBuffer = async () => {\n    callOnRender();\n    return render();\n  };\n\n  const toString = async () => {\n    let result = '';\n    const instance = await render();\n\n    return new Promise((resolve, reject) => {\n      try {\n        instance.on('data', buffer => {\n          result += buffer;\n        });\n\n        instance.on('end', () => {\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  };\n\n  return {\n    container,\n    toBlob,\n    toBuffer,\n    toString,\n    updateContainer,\n  };\n};\n\nconst Font = fontStore;\n\nconst StyleSheet = {\n  create: s => s,\n};\n\nexport { version, Font, StyleSheet, pdf };\n","/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/jsx-props-no-spreading */\n\nimport React from 'react';\nimport * as primitives from '@react-pdf/primitives';\nimport { pdf, version, Font, StyleSheet } from './index';\n\nconst queue = require('queue');\n\nclass InternalBlobProvider extends React.PureComponent {\n  renderQueue = queue({ autostart: true, concurrency: 1 });\n\n  state = { blob: null, url: null, loading: true, error: null };\n\n  componentDidMount() {\n    this.instance = pdf({ onChange: this.queueDocumentRender });\n    this.instance.updateContainer(this.props.document);\n\n    this.renderQueue.on('error', this.onRenderFailed);\n    this.renderQueue.on('success', this.onRenderSuccessful);\n  }\n\n  componentDidUpdate() {\n    this.instance.updateContainer(this.props.document);\n  }\n\n  componentWillUnmount() {\n    this.renderQueue.end();\n  }\n\n  queueDocumentRender = () => {\n    this.renderQueue.splice(0, this.renderQueue.length, () =>\n      this.state.error ? Promise.resolve() : this.instance.toBlob(),\n    );\n  };\n\n  onRenderFailed = error => {\n    this.setState({ error });\n    console.error(error);\n  };\n\n  onRenderSuccessful = blob => {\n    const oldBlobUrl = this.state.url;\n\n    this.setState(\n      { blob, url: URL.createObjectURL(blob), loading: false },\n      () => URL.revokeObjectURL(oldBlobUrl),\n    );\n  };\n\n  render() {\n    return this.props.children(this.state);\n  }\n}\n\nexport const BlobProvider = ({ document: doc, children }) => {\n  if (!doc) {\n    console.warn('You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return <InternalBlobProvider document={doc}>{children}</InternalBlobProvider>;\n};\n\nexport const PDFViewer = ({\n  className,\n  style,\n  title,\n  children,\n  innerRef,\n  ...props\n}) => {\n  return (\n    <InternalBlobProvider document={children}>\n      {({ url }) => (\n        <iframe\n          src={url}\n          title={title}\n          ref={innerRef}\n          style={style}\n          className={className}\n          {...props}\n        />\n      )}\n    </InternalBlobProvider>\n  );\n};\n\nexport const PDFDownloadLink = ({\n  document: doc,\n  className,\n  style,\n  children,\n  fileName = 'document.pdf',\n}) => {\n  if (!doc) {\n    console.warn('You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  const downloadOnIE = blob => () => {\n    if (window.navigator.msSaveBlob) {\n      window.navigator.msSaveBlob(blob, fileName);\n    }\n  };\n\n  return (\n    <InternalBlobProvider document={doc}>\n      {params => (\n        <a\n          style={style}\n          href={params.url}\n          download={fileName}\n          className={className}\n          onClick={downloadOnIE(params.blob)}\n        >\n          {typeof children === 'function' ? children(params) : children}\n        </a>\n      )}\n    </InternalBlobProvider>\n  );\n};\n\nconst throwEnvironmentError = name => {\n  throw new Error(\n    `${name} is a Node specific API. You're either using this method in a browser, or your bundler is not loading react-pdf from the appropriate web build.`,\n  );\n};\n\nexport const renderToStream = () => {\n  throwEnvironmentError('renderToStream');\n};\n\nexport const renderToString = () => {\n  throwEnvironmentError('renderToString');\n};\n\nexport const renderToFile = () => {\n  throwEnvironmentError('renderToFile');\n};\n\nexport const render = () => {\n  throwEnvironmentError('render');\n};\n\nexport * from './index';\n\nexport * from '@react-pdf/primitives';\n\nexport default {\n  pdf,\n  Font,\n  version,\n  StyleSheet,\n  PDFViewer,\n  BlobProvider,\n  PDFDownloadLink,\n  renderToStream,\n  renderToString,\n  renderToFile,\n  render,\n  ...primitives,\n};\n"]},"metadata":{},"sourceType":"module"}