{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/kaja/Code/mallar/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _isUrl = require('is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nvar _standard = require('./standard');\n\nvar _standard2 = _interopRequireDefault(_standard);\n\nvar _font = require('../utils/font');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar fonts = {};\n\nvar register = function register(src, _ref) {\n  var family = _ref.family,\n      otherOptions = _objectWithoutProperties(_ref, ['family']);\n\n  fonts[family] = _extends({\n    src: src,\n    loaded: false,\n    data: null\n  }, otherOptions);\n};\n\nvar getRegisteredFonts = function getRegisteredFonts() {\n  return Object.keys(fonts);\n};\n\nvar load = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fontFamily, doc) {\n    var font;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            font = fonts[fontFamily]; // We cache the font to avoid fetching it many time\n\n            if (!(font && !font.data)) {\n              _context.next = 10;\n              break;\n            }\n\n            if (!(0, _isUrl2.default)(font.src)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 5;\n            return (0, _font.fetchFont)(font.src);\n\n          case 5:\n            _context.t0 = _context.sent;\n            _context.next = 9;\n            break;\n\n          case 8:\n            _context.t0 = font.src;\n\n          case 9:\n            font.data = _context.t0;\n\n          case 10:\n            // If the font wasn't added to the document yet (aka. loaded), we do.\n            // This prevents calling `registerFont` many times for the same font.\n            // Fonts loaded state will be resetted after document is closed.\n            if (font && !font.loaded) {\n              font.loaded = true;\n              doc.registerFont(fontFamily, font.data);\n            }\n\n            if (!(!font && !_standard2.default.includes(fontFamily))) {\n              _context.next = 13;\n              break;\n            }\n\n            throw new Error('Font familiy not registered: ' + fontFamily + '. Please register it calling Font.register() method.');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined);\n  }));\n\n  return function load(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar reset = function reset() {\n  for (var font in fonts) {\n    if (fonts.hasOwnProperty(font)) {\n      fonts[font].loaded = false;\n    }\n  }\n};\n\nvar clear = function clear() {\n  fonts = {};\n};\n\nexports.default = {\n  register: register,\n  getRegisteredFonts: getRegisteredFonts,\n  load: load,\n  clear: clear,\n  reset: reset\n};","map":{"version":3,"sources":["/Users/kaja/Code/mallar/node_modules/@react-pdf/core/lib/font/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_isUrl","require","_isUrl2","_interopRequireDefault","_standard","_standard2","_font","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","step","arg","info","error","done","then","err","_objectWithoutProperties","keys","indexOf","fonts","register","src","_ref","family","otherOptions","loaded","data","getRegisteredFonts","load","_ref2","mark","_callee","fontFamily","doc","font","wrap","_callee$","_context","prev","next","fetchFont","t0","sent","registerFont","includes","Error","stop","undefined","_x","_x2","reset","clear"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _isUrl = require('is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nvar _standard = require('./standard');\n\nvar _standard2 = _interopRequireDefault(_standard);\n\nvar _font = require('../utils/font');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar fonts = {};\n\nvar register = function register(src, _ref) {\n  var family = _ref.family,\n      otherOptions = _objectWithoutProperties(_ref, ['family']);\n\n  fonts[family] = _extends({\n    src: src,\n    loaded: false,\n    data: null\n  }, otherOptions);\n};\n\nvar getRegisteredFonts = function getRegisteredFonts() {\n  return Object.keys(fonts);\n};\n\nvar load = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(fontFamily, doc) {\n    var font;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            font = fonts[fontFamily];\n\n            // We cache the font to avoid fetching it many time\n\n            if (!(font && !font.data)) {\n              _context.next = 10;\n              break;\n            }\n\n            if (!(0, _isUrl2.default)(font.src)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 5;\n            return (0, _font.fetchFont)(font.src);\n\n          case 5:\n            _context.t0 = _context.sent;\n            _context.next = 9;\n            break;\n\n          case 8:\n            _context.t0 = font.src;\n\n          case 9:\n            font.data = _context.t0;\n\n          case 10:\n\n            // If the font wasn't added to the document yet (aka. loaded), we do.\n            // This prevents calling `registerFont` many times for the same font.\n            // Fonts loaded state will be resetted after document is closed.\n            if (font && !font.loaded) {\n              font.loaded = true;\n              doc.registerFont(fontFamily, font.data);\n            }\n\n            if (!(!font && !_standard2.default.includes(fontFamily))) {\n              _context.next = 13;\n              break;\n            }\n\n            throw new Error('Font familiy not registered: ' + fontFamily + '. Please register it calling Font.register() method.');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined);\n  }));\n\n  return function load(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar reset = function reset() {\n  for (var font in fonts) {\n    if (fonts.hasOwnProperty(font)) {\n      fonts[font].loaded = false;\n    }\n  }\n};\n\nvar clear = function clear() {\n  fonts = {};\n};\n\nexports.default = {\n  register: register,\n  getRegisteredFonts: getRegisteredFonts,\n  load: load,\n  clear: clear,\n  reset: reset\n};"]},"metadata":{},"sourceType":"script"}