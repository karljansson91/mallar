{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/kaja/Code/mallar/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _yogaLayout = require('yoga-layout');\n\nvar _yogaLayout2 = _interopRequireDefault(_yogaLayout);\n\nvar _lodash = require('lodash.topairsin');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isfunction');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _lodash5 = require('lodash.upperfirst');\n\nvar _lodash6 = _interopRequireDefault(_lodash5);\n\nvar _lodash7 = require('lodash.pick');\n\nvar _lodash8 = _interopRequireDefault(_lodash7);\n\nvar _warning = require('fbjs/lib/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _stylesheet = require('../stylesheet');\n\nvar _stylesheet2 = _interopRequireDefault(_stylesheet);\n\nvar _debug = require('../mixins/debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _borders = require('../mixins/borders');\n\nvar _borders2 = _interopRequireDefault(_borders);\n\nvar _styles = require('../utils/styles');\n\nvar _wrapping = require('../utils/wrapping');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Base = function () {\n  function Base(root, props) {\n    _classCallCheck(this, Base);\n\n    this.parent = null;\n    this.children = [];\n    this.root = root;\n    this.props = _extends({}, this.constructor.defaultProps, Base.defaultProps, props);\n    (0, _warning2.default)(!this.props.styles, '\"styles\" prop passed instead of \"style\" prop');\n    this.layout = _yogaLayout2.default.Node.createDefault();\n    this.canBeSplitted = false;\n  }\n\n  _createClass(Base, [{\n    key: 'appendChild',\n    value: function appendChild(child) {\n      child.parent = this;\n      this.children.push(child);\n      this.layout.insertChild(child.layout, this.layout.getChildCount());\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      var index = this.children.indexOf(child);\n      child.parent = null;\n      this.children.splice(index, 1);\n      this.layout.removeChild(child.layout);\n    }\n  }, {\n    key: 'applyProps',\n    value: function applyProps() {\n      var _this = this;\n\n      var page = this.getPage();\n      var pageSize = page.getSize();\n      this.style = this.style || _stylesheet2.default.resolve(this.props.style, {\n        width: pageSize[0],\n        height: pageSize[1],\n        orientation: page.getOrientation()\n      });\n      (0, _lodash2.default)(this.style).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            attribute = _ref2[0],\n            value = _ref2[1];\n\n        _this.applyStyle(attribute, value);\n      });\n      this.children.forEach(function (child) {\n        if (child.applyProps) {\n          child.applyProps();\n        }\n      });\n    }\n  }, {\n    key: 'applyStyle',\n    value: function applyStyle(attribute, value) {\n      var setter = 'set' + (0, _lodash6.default)(attribute);\n\n      switch (attribute) {\n        case 'marginTop':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n\n        case 'marginRight':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n\n        case 'marginBottom':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n\n        case 'marginLeft':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n\n        case 'paddingTop':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n\n        case 'paddingRight':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n\n        case 'paddingBottom':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n\n        case 'paddingLeft':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n\n        case 'borderTopWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n\n        case 'borderRightWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n\n        case 'borderBottomWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n\n        case 'borderLeftWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n\n        case 'position':\n          this.layout.setPositionType(value === 'absolute' ? _yogaLayout2.default.POSITION_TYPE_ABSOLUTE : _yogaLayout2.default.POSITION_TYPE_RELATIVE);\n          break;\n\n        case 'top':\n          this.setPosition(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n\n        case 'right':\n          this.setPosition(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n\n        case 'bottom':\n          this.setPosition(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n\n        case 'left':\n          this.setPosition(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n\n        default:\n          if ((0, _lodash4.default)(this.layout[setter])) {\n            this.layout[setter](value);\n          }\n\n      }\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(edge, value) {\n      var isPercent = /^(\\d+)?%$/g.exec(value);\n\n      if (isPercent) {\n        this.layout.setPositionPercent(edge, parseInt(isPercent[1], 10));\n      } else {\n        this.layout.setPosition(edge, value);\n      }\n    }\n  }, {\n    key: 'recalculateLayout',\n    value: function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var childs;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Promise.all(this.children.map(function (child) {\n                  return child.recalculateLayout();\n                }));\n\n              case 2:\n                childs = _context.sent;\n                return _context.abrupt('return', childs);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function recalculateLayout() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return recalculateLayout;\n    }()\n  }, {\n    key: 'getPage',\n    value: function getPage() {\n      return this.parent.getPage();\n    }\n  }, {\n    key: 'getAbsoluteLayout',\n    value: function getAbsoluteLayout() {\n      var myLayout = this.layout.getComputedLayout();\n      var parentLayout = this.parent.getAbsoluteLayout ? this.parent.getAbsoluteLayout() : {\n        left: 0,\n        top: 0\n      };\n      return {\n        left: myLayout.left + parentLayout.left,\n        top: myLayout.top + parentLayout.top,\n        height: myLayout.height,\n        width: myLayout.width\n      };\n    }\n  }, {\n    key: 'getPadding',\n    value: function getPadding() {\n      return {\n        top: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_TOP),\n        right: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_RIGHT),\n        bottom: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_BOTTOM),\n        left: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_LEFT)\n      };\n    }\n  }, {\n    key: 'getMargin',\n    value: function getMargin() {\n      return {\n        top: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_TOP),\n        right: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_RIGHT),\n        bottom: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_BOTTOM),\n        left: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_LEFT)\n      };\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth() {\n      return this.layout.getComputedWidth() + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_LEFT) + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_RIGTH) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_LEFT) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_RIGTH);\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight() {\n      return this.layout.getComputedHeight() + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_TOP) + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_BOTTOM) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_TOP) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_BOTTOM);\n    }\n  }, {\n    key: 'getComputedStyles',\n    value: function getComputedStyles() {\n      var element = this.parent;\n      var inheritedStyles = {};\n\n      while (element && element.parent) {\n        inheritedStyles = _extends({}, element.parent.style, element.style, inheritedStyles);\n        element = element.parent;\n      }\n\n      return _extends({}, (0, _lodash8.default)(inheritedStyles, _styles.inheritedProperties), this.style);\n    }\n  }, {\n    key: 'drawBackgroundColor',\n    value: function drawBackgroundColor() {\n      var _getAbsoluteLayout = this.getAbsoluteLayout(),\n          left = _getAbsoluteLayout.left,\n          top = _getAbsoluteLayout.top,\n          width = _getAbsoluteLayout.width,\n          height = _getAbsoluteLayout.height;\n\n      var _getComputedStyles = this.getComputedStyles(),\n          backgroundColor = _getComputedStyles.backgroundColor;\n\n      if (backgroundColor) {\n        this.root.fillColor(backgroundColor).rect(left, top, width, height).fill();\n      }\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var clone = new this.constructor(this.root, this.props);\n      clone.style = this.style;\n      clone.parent = this.parent;\n      clone.layout = this.layout;\n      clone.children = this.children;\n      return clone;\n    }\n  }, {\n    key: 'fillRemainingSpace',\n    value: function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(page, element, availableHeight) {\n        var _this2 = this;\n\n        var getHeight, newElement, renderedChilds, i, child, childHeight;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!element.canBeSplitted) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                getHeight = function getHeight(value) {\n                  element.setFontSize();\n                  var elementMargin = element.getMargin();\n                  var elementPadding = element.getPadding();\n                  return _this2.root.heightOfString(value, {\n                    width: _this2.getWidth() - elementMargin.right - elementMargin.left - elementPadding.right - elementPadding.left\n                  });\n                };\n\n                newElement = (0, _wrapping.splitElement)(element, availableHeight, getHeight);\n                _context2.next = 5;\n                return newElement.render();\n\n              case 5:\n                _context2.next = 24;\n                break;\n\n              case 7:\n                renderedChilds = [];\n                i = 0;\n\n              case 9:\n                if (!(i < element.children.length)) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                child = element.children[i];\n                childHeight = child.getHeight();\n\n                if (!(availableHeight >= childHeight)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                _context2.next = 15;\n                return child.render(page);\n\n              case 15:\n                renderedChilds.push(child);\n                availableHeight -= childHeight;\n                _context2.next = 20;\n                break;\n\n              case 19:\n                return _context2.abrupt('break', 23);\n\n              case 20:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 23:\n                // Remove rendered childs\n                renderedChilds.forEach(function (child) {\n                  if (!child.props.fixed) {\n                    element.removeChild(child);\n                  }\n                });\n\n              case 24:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fillRemainingSpace(_x, _x2, _x3) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return fillRemainingSpace;\n    }()\n  }, {\n    key: 'renderWrapChildren',\n    value: function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(page) {\n        var _this3 = this;\n\n        var i, isFirstElement, availableHeight, renderedChilds, child, childHeight, j, _child;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                i = void 0;\n                isFirstElement = true;\n                availableHeight = this.parent.getHeight();\n                renderedChilds = [];\n                i = 0;\n\n              case 5:\n                if (!(i < this.children.length)) {\n                  _context3.next = 28;\n                  break;\n                }\n\n                child = this.children[i];\n                childHeight = child.getHeight();\n\n                if (!(child.props.break && !isFirstElement)) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                page.addNewSubpage();\n                return _context3.abrupt('break', 28);\n\n              case 13:\n                if (!(availableHeight >= childHeight)) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                _context3.next = 16;\n                return child.render(page);\n\n              case 16:\n                renderedChilds.push(child);\n                availableHeight -= childHeight;\n                _context3.next = 24;\n                break;\n\n              case 20:\n                _context3.next = 22;\n                return this.fillRemainingSpace(page, child, availableHeight);\n\n              case 22:\n                page.addNewSubpage();\n                return _context3.abrupt('break', 28);\n\n              case 24:\n                if (!child.props.fixed) {\n                  isFirstElement = false;\n                }\n\n              case 25:\n                i++;\n                _context3.next = 5;\n                break;\n\n              case 28:\n                j = i;\n\n              case 29:\n                if (!(j < this.children.length)) {\n                  _context3.next = 37;\n                  break;\n                }\n\n                _child = this.children[j];\n\n                if (!_child.props.fixed) {\n                  _context3.next = 34;\n                  break;\n                }\n\n                _context3.next = 34;\n                return _child.render(page);\n\n              case 34:\n                j++;\n                _context3.next = 29;\n                break;\n\n              case 37:\n                // Remove rendered childs\n                renderedChilds.forEach(function (child) {\n                  if (!child.props.fixed) {\n                    _this3.removeChild(child);\n                  }\n                });\n\n              case 38:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function renderWrapChildren(_x4) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return renderWrapChildren;\n    }()\n  }, {\n    key: 'renderPlainChildren',\n    value: function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(page) {\n        var i;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                i = 0;\n\n              case 1:\n                if (!(i < this.children.length)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                _context4.next = 4;\n                return this.children[i].render(page);\n\n              case 4:\n                i++;\n                _context4.next = 1;\n                break;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function renderPlainChildren(_x5) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return renderPlainChildren;\n    }()\n  }, {\n    key: 'renderChildren',\n    value: function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(page) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!page.props.wrap) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                _context5.next = 3;\n                return this.renderWrapChildren(page);\n\n              case 3:\n                _context5.next = 7;\n                break;\n\n              case 5:\n                _context5.next = 7;\n                return this.renderPlainChildren(page);\n\n              case 7:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function renderChildren(_x6) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return renderChildren;\n    }()\n  }]);\n\n  return Base;\n}();\n\nBase.defaultProps = {\n  style: {}\n};\nObject.assign(Base.prototype, _debug2.default);\nObject.assign(Base.prototype, _borders2.default);\nexports.default = Base;","map":{"version":3,"sources":["/Users/kaja/Code/mallar/node_modules/@react-pdf/core/lib/elements/Base.js"],"names":["Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_yogaLayout","require","_yogaLayout2","_interopRequireDefault","_lodash","_lodash2","_lodash3","_lodash4","_lodash5","_lodash6","_lodash7","_lodash8","_warning","_warning2","_stylesheet","_stylesheet2","_debug","_debug2","_borders","_borders2","_styles","_wrapping","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","step","arg","info","error","then","_classCallCheck","instance","Base","root","parent","children","constructor","defaultProps","styles","layout","Node","createDefault","canBeSplitted","appendChild","child","insertChild","getChildCount","removeChild","index","indexOf","splice","applyProps","_this","page","getPage","pageSize","getSize","style","width","height","orientation","getOrientation","map","_ref","_ref2","attribute","applyStyle","forEach","setter","setMargin","EDGE_TOP","EDGE_RIGHT","EDGE_BOTTOM","EDGE_LEFT","setPadding","setBorder","setPositionType","POSITION_TYPE_ABSOLUTE","POSITION_TYPE_RELATIVE","setPosition","edge","isPercent","exec","setPositionPercent","parseInt","_ref3","mark","_callee","childs","wrap","_callee$","_context","prev","all","recalculateLayout","sent","abrupt","stop","getAbsoluteLayout","myLayout","getComputedLayout","parentLayout","left","top","getPadding","getComputedPadding","right","bottom","getMargin","getComputedMargin","getWidth","getComputedWidth","EDGE_RIGTH","getHeight","getComputedHeight","getComputedStyles","element","inheritedStyles","inheritedProperties","drawBackgroundColor","_getAbsoluteLayout","_getComputedStyles","backgroundColor","fillColor","rect","fill","clone","_ref4","_callee2","availableHeight","_this2","newElement","renderedChilds","childHeight","_callee2$","_context2","setFontSize","elementMargin","elementPadding","heightOfString","splitElement","render","fixed","fillRemainingSpace","_x","_x2","_x3","_ref5","_callee3","_this3","isFirstElement","j","_child","_callee3$","_context3","break","addNewSubpage","renderWrapChildren","_x4","_ref6","_callee4","_callee4$","_context4","renderPlainChildren","_x5","_ref7","_callee5","_callee5$","_context5","renderChildren","_x6"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _yogaLayout = require('yoga-layout');\n\nvar _yogaLayout2 = _interopRequireDefault(_yogaLayout);\n\nvar _lodash = require('lodash.topairsin');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isfunction');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _lodash5 = require('lodash.upperfirst');\n\nvar _lodash6 = _interopRequireDefault(_lodash5);\n\nvar _lodash7 = require('lodash.pick');\n\nvar _lodash8 = _interopRequireDefault(_lodash7);\n\nvar _warning = require('fbjs/lib/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _stylesheet = require('../stylesheet');\n\nvar _stylesheet2 = _interopRequireDefault(_stylesheet);\n\nvar _debug = require('../mixins/debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _borders = require('../mixins/borders');\n\nvar _borders2 = _interopRequireDefault(_borders);\n\nvar _styles = require('../utils/styles');\n\nvar _wrapping = require('../utils/wrapping');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n  function Base(root, props) {\n    _classCallCheck(this, Base);\n\n    this.parent = null;\n    this.children = [];\n\n    this.root = root;\n\n    this.props = _extends({}, this.constructor.defaultProps, Base.defaultProps, props);\n\n    (0, _warning2.default)(!this.props.styles, '\"styles\" prop passed instead of \"style\" prop');\n\n    this.layout = _yogaLayout2.default.Node.createDefault();\n    this.canBeSplitted = false;\n  }\n\n  _createClass(Base, [{\n    key: 'appendChild',\n    value: function appendChild(child) {\n      child.parent = this;\n      this.children.push(child);\n      this.layout.insertChild(child.layout, this.layout.getChildCount());\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      var index = this.children.indexOf(child);\n\n      child.parent = null;\n      this.children.splice(index, 1);\n      this.layout.removeChild(child.layout);\n    }\n  }, {\n    key: 'applyProps',\n    value: function applyProps() {\n      var _this = this;\n\n      var page = this.getPage();\n      var pageSize = page.getSize();\n\n      this.style = this.style || _stylesheet2.default.resolve(this.props.style, {\n        width: pageSize[0],\n        height: pageSize[1],\n        orientation: page.getOrientation()\n      });\n\n      (0, _lodash2.default)(this.style).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            attribute = _ref2[0],\n            value = _ref2[1];\n\n        _this.applyStyle(attribute, value);\n      });\n\n      this.children.forEach(function (child) {\n        if (child.applyProps) {\n          child.applyProps();\n        }\n      });\n    }\n  }, {\n    key: 'applyStyle',\n    value: function applyStyle(attribute, value) {\n      var setter = 'set' + (0, _lodash6.default)(attribute);\n\n      switch (attribute) {\n        case 'marginTop':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n        case 'marginRight':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n        case 'marginBottom':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n        case 'marginLeft':\n          this.layout.setMargin(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n        case 'paddingTop':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n        case 'paddingRight':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n        case 'paddingBottom':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n        case 'paddingLeft':\n          this.layout.setPadding(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n        case 'borderTopWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n        case 'borderRightWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n        case 'borderBottomWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n        case 'borderLeftWidth':\n          this.layout.setBorder(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n        case 'position':\n          this.layout.setPositionType(value === 'absolute' ? _yogaLayout2.default.POSITION_TYPE_ABSOLUTE : _yogaLayout2.default.POSITION_TYPE_RELATIVE);\n          break;\n        case 'top':\n          this.setPosition(_yogaLayout2.default.EDGE_TOP, value);\n          break;\n        case 'right':\n          this.setPosition(_yogaLayout2.default.EDGE_RIGHT, value);\n          break;\n        case 'bottom':\n          this.setPosition(_yogaLayout2.default.EDGE_BOTTOM, value);\n          break;\n        case 'left':\n          this.setPosition(_yogaLayout2.default.EDGE_LEFT, value);\n          break;\n        default:\n          if ((0, _lodash4.default)(this.layout[setter])) {\n            this.layout[setter](value);\n          }\n      }\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(edge, value) {\n      var isPercent = /^(\\d+)?%$/g.exec(value);\n\n      if (isPercent) {\n        this.layout.setPositionPercent(edge, parseInt(isPercent[1], 10));\n      } else {\n        this.layout.setPosition(edge, value);\n      }\n    }\n  }, {\n    key: 'recalculateLayout',\n    value: function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var childs;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Promise.all(this.children.map(function (child) {\n                  return child.recalculateLayout();\n                }));\n\n              case 2:\n                childs = _context.sent;\n                return _context.abrupt('return', childs);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function recalculateLayout() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return recalculateLayout;\n    }()\n  }, {\n    key: 'getPage',\n    value: function getPage() {\n      return this.parent.getPage();\n    }\n  }, {\n    key: 'getAbsoluteLayout',\n    value: function getAbsoluteLayout() {\n      var myLayout = this.layout.getComputedLayout();\n\n      var parentLayout = this.parent.getAbsoluteLayout ? this.parent.getAbsoluteLayout() : { left: 0, top: 0 };\n\n      return {\n        left: myLayout.left + parentLayout.left,\n        top: myLayout.top + parentLayout.top,\n        height: myLayout.height,\n        width: myLayout.width\n      };\n    }\n  }, {\n    key: 'getPadding',\n    value: function getPadding() {\n      return {\n        top: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_TOP),\n        right: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_RIGHT),\n        bottom: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_BOTTOM),\n        left: this.layout.getComputedPadding(_yogaLayout2.default.EDGE_LEFT)\n      };\n    }\n  }, {\n    key: 'getMargin',\n    value: function getMargin() {\n      return {\n        top: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_TOP),\n        right: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_RIGHT),\n        bottom: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_BOTTOM),\n        left: this.layout.getComputedMargin(_yogaLayout2.default.EDGE_LEFT)\n      };\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth() {\n      return this.layout.getComputedWidth() + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_LEFT) + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_RIGTH) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_LEFT) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_RIGTH);\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight() {\n      return this.layout.getComputedHeight() + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_TOP) + this.layout.getComputedMargin(_yogaLayout2.default.EDGE_BOTTOM) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_TOP) - this.layout.getComputedPadding(_yogaLayout2.default.EDGE_BOTTOM);\n    }\n  }, {\n    key: 'getComputedStyles',\n    value: function getComputedStyles() {\n      var element = this.parent;\n      var inheritedStyles = {};\n\n      while (element && element.parent) {\n        inheritedStyles = _extends({}, element.parent.style, element.style, inheritedStyles);\n        element = element.parent;\n      }\n\n      return _extends({}, (0, _lodash8.default)(inheritedStyles, _styles.inheritedProperties), this.style);\n    }\n  }, {\n    key: 'drawBackgroundColor',\n    value: function drawBackgroundColor() {\n      var _getAbsoluteLayout = this.getAbsoluteLayout(),\n          left = _getAbsoluteLayout.left,\n          top = _getAbsoluteLayout.top,\n          width = _getAbsoluteLayout.width,\n          height = _getAbsoluteLayout.height;\n\n      var _getComputedStyles = this.getComputedStyles(),\n          backgroundColor = _getComputedStyles.backgroundColor;\n\n      if (backgroundColor) {\n        this.root.fillColor(backgroundColor).rect(left, top, width, height).fill();\n      }\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var clone = new this.constructor(this.root, this.props);\n\n      clone.style = this.style;\n      clone.parent = this.parent;\n      clone.layout = this.layout;\n      clone.children = this.children;\n\n      return clone;\n    }\n  }, {\n    key: 'fillRemainingSpace',\n    value: function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(page, element, availableHeight) {\n        var _this2 = this;\n\n        var getHeight, newElement, renderedChilds, i, child, childHeight;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!element.canBeSplitted) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                getHeight = function getHeight(value) {\n                  element.setFontSize();\n                  var elementMargin = element.getMargin();\n                  var elementPadding = element.getPadding();\n\n                  return _this2.root.heightOfString(value, {\n                    width: _this2.getWidth() - elementMargin.right - elementMargin.left - elementPadding.right - elementPadding.left\n                  });\n                };\n\n                newElement = (0, _wrapping.splitElement)(element, availableHeight, getHeight);\n                _context2.next = 5;\n                return newElement.render();\n\n              case 5:\n                _context2.next = 24;\n                break;\n\n              case 7:\n                renderedChilds = [];\n                i = 0;\n\n              case 9:\n                if (!(i < element.children.length)) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                child = element.children[i];\n                childHeight = child.getHeight();\n\n                if (!(availableHeight >= childHeight)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                _context2.next = 15;\n                return child.render(page);\n\n              case 15:\n                renderedChilds.push(child);\n\n                availableHeight -= childHeight;\n                _context2.next = 20;\n                break;\n\n              case 19:\n                return _context2.abrupt('break', 23);\n\n              case 20:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 23:\n\n                // Remove rendered childs\n                renderedChilds.forEach(function (child) {\n                  if (!child.props.fixed) {\n                    element.removeChild(child);\n                  }\n                });\n\n              case 24:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fillRemainingSpace(_x, _x2, _x3) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return fillRemainingSpace;\n    }()\n  }, {\n    key: 'renderWrapChildren',\n    value: function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(page) {\n        var _this3 = this;\n\n        var i, isFirstElement, availableHeight, renderedChilds, child, childHeight, j, _child;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                i = void 0;\n                isFirstElement = true;\n                availableHeight = this.parent.getHeight();\n                renderedChilds = [];\n                i = 0;\n\n              case 5:\n                if (!(i < this.children.length)) {\n                  _context3.next = 28;\n                  break;\n                }\n\n                child = this.children[i];\n                childHeight = child.getHeight();\n\n                if (!(child.props.break && !isFirstElement)) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                page.addNewSubpage();\n                return _context3.abrupt('break', 28);\n\n              case 13:\n                if (!(availableHeight >= childHeight)) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                _context3.next = 16;\n                return child.render(page);\n\n              case 16:\n                renderedChilds.push(child);\n\n                availableHeight -= childHeight;\n                _context3.next = 24;\n                break;\n\n              case 20:\n                _context3.next = 22;\n                return this.fillRemainingSpace(page, child, availableHeight);\n\n              case 22:\n\n                page.addNewSubpage();\n                return _context3.abrupt('break', 28);\n\n              case 24:\n\n                if (!child.props.fixed) {\n                  isFirstElement = false;\n                }\n\n              case 25:\n                i++;\n                _context3.next = 5;\n                break;\n\n              case 28:\n                j = i;\n\n              case 29:\n                if (!(j < this.children.length)) {\n                  _context3.next = 37;\n                  break;\n                }\n\n                _child = this.children[j];\n\n                if (!_child.props.fixed) {\n                  _context3.next = 34;\n                  break;\n                }\n\n                _context3.next = 34;\n                return _child.render(page);\n\n              case 34:\n                j++;\n                _context3.next = 29;\n                break;\n\n              case 37:\n\n                // Remove rendered childs\n                renderedChilds.forEach(function (child) {\n                  if (!child.props.fixed) {\n                    _this3.removeChild(child);\n                  }\n                });\n\n              case 38:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function renderWrapChildren(_x4) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return renderWrapChildren;\n    }()\n  }, {\n    key: 'renderPlainChildren',\n    value: function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(page) {\n        var i;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                i = 0;\n\n              case 1:\n                if (!(i < this.children.length)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                _context4.next = 4;\n                return this.children[i].render(page);\n\n              case 4:\n                i++;\n                _context4.next = 1;\n                break;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function renderPlainChildren(_x5) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return renderPlainChildren;\n    }()\n  }, {\n    key: 'renderChildren',\n    value: function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(page) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!page.props.wrap) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                _context5.next = 3;\n                return this.renderWrapChildren(page);\n\n              case 3:\n                _context5.next = 7;\n                break;\n\n              case 5:\n                _context5.next = 7;\n                return this.renderPlainChildren(page);\n\n              case 7:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function renderChildren(_x6) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return renderChildren;\n    }()\n  }]);\n\n  return Base;\n}();\n\nBase.defaultProps = {\n  style: {}\n};\n\n\nObject.assign(Base.prototype, _debug2.default);\nObject.assign(Base.prototype, _borders2.default);\n\nexports.default = Base;"]},"metadata":{},"sourceType":"script"}