{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n} // Extracted from https://github.com/devongovett/pdfkit/blob/master/lib/image/jpeg.coffee\n\n\nvar MARKERS = [0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc8, 0xffc9, 0xffca, 0xffcb, 0xffcc, 0xffcd, 0xffce, 0xffcf];\n\nvar JPEG = function JPEG(data) {\n  _classCallCheck(this, JPEG);\n\n  this.data = null;\n  this.width = null;\n  this.height = null;\n  this.data = data;\n\n  if (data.readUInt16BE(0) !== 0xffd8) {\n    throw new Error('SOI not found in JPEG');\n  }\n\n  var marker = void 0;\n  var pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    throw new Error('Invalid JPEG.');\n  }\n\n  pos += 3;\n  this.height = data.readUInt16BE(pos);\n  pos += 2;\n  this.width = data.readUInt16BE(pos);\n};\n\nexports.default = JPEG;","map":{"version":3,"sources":["/Users/kaja/Code/mallar/node_modules/@react-pdf/core/lib/utils/jpeg.js"],"names":["Object","defineProperty","exports","value","_classCallCheck","instance","Constructor","TypeError","MARKERS","JPEG","data","width","height","readUInt16BE","Error","marker","pos","length","includes","default"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE,C,CAEzJ;;;AAEA,IAAIC,OAAO,GAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,MAAjC,EAAyC,MAAzC,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,MAAjE,EAAyE,MAAzE,EAAiF,MAAjF,EAAyF,MAAzF,EAAiG,MAAjG,EAAyG,MAAzG,EAAiH,MAAjH,CAAd;;AAEA,IAAIC,IAAI,GAAG,SAASA,IAAT,CAAcC,IAAd,EAAoB;AAC7BN,EAAAA,eAAe,CAAC,IAAD,EAAOK,IAAP,CAAf;;AAEA,OAAKC,IAAL,GAAY,IAAZ;AACA,OAAKC,KAAL,GAAa,IAAb;AACA,OAAKC,MAAL,GAAc,IAAd;AAEA,OAAKF,IAAL,GAAYA,IAAZ;;AAEA,MAAIA,IAAI,CAACG,YAAL,CAAkB,CAAlB,MAAyB,MAA7B,EAAqC;AACnC,UAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACD;;AAED,MAAIC,MAAM,GAAG,KAAK,CAAlB;AACA,MAAIC,GAAG,GAAG,CAAV;;AAEA,SAAOA,GAAG,GAAGN,IAAI,CAACO,MAAlB,EAA0B;AACxBF,IAAAA,MAAM,GAAGL,IAAI,CAACG,YAAL,CAAkBG,GAAlB,CAAT;AACAA,IAAAA,GAAG,IAAI,CAAP;;AACA,QAAIR,OAAO,CAACU,QAAR,CAAiBH,MAAjB,CAAJ,EAA8B;AAC5B;AACD;;AACDC,IAAAA,GAAG,IAAIN,IAAI,CAACG,YAAL,CAAkBG,GAAlB,CAAP;AACD;;AAED,MAAI,CAACR,OAAO,CAACU,QAAR,CAAiBH,MAAjB,CAAL,EAA+B;AAC7B,UAAM,IAAID,KAAJ,CAAU,eAAV,CAAN;AACD;;AAEDE,EAAAA,GAAG,IAAI,CAAP;AACA,OAAKJ,MAAL,GAAcF,IAAI,CAACG,YAAL,CAAkBG,GAAlB,CAAd;AAEAA,EAAAA,GAAG,IAAI,CAAP;AACA,OAAKL,KAAL,GAAaD,IAAI,CAACG,YAAL,CAAkBG,GAAlB,CAAb;AACD,CAlCD;;AAoCAd,OAAO,CAACiB,OAAR,GAAkBV,IAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Extracted from https://github.com/devongovett/pdfkit/blob/master/lib/image/jpeg.coffee\n\nvar MARKERS = [0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc8, 0xffc9, 0xffca, 0xffcb, 0xffcc, 0xffcd, 0xffce, 0xffcf];\n\nvar JPEG = function JPEG(data) {\n  _classCallCheck(this, JPEG);\n\n  this.data = null;\n  this.width = null;\n  this.height = null;\n\n  this.data = data;\n\n  if (data.readUInt16BE(0) !== 0xffd8) {\n    throw new Error('SOI not found in JPEG');\n  }\n\n  var marker = void 0;\n  var pos = 2;\n\n  while (pos < data.length) {\n    marker = data.readUInt16BE(pos);\n    pos += 2;\n    if (MARKERS.includes(marker)) {\n      break;\n    }\n    pos += data.readUInt16BE(pos);\n  }\n\n  if (!MARKERS.includes(marker)) {\n    throw new Error('Invalid JPEG.');\n  }\n\n  pos += 3;\n  this.height = data.readUInt16BE(pos);\n\n  pos += 2;\n  this.width = data.readUInt16BE(pos);\n};\n\nexports.default = JPEG;"]},"metadata":{},"sourceType":"script"}