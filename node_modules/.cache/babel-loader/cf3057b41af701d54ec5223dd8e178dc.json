{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _save = _interopRequireDefault(require(\"../operations/save\"));\n\nvar _restore = _interopRequireDefault(require(\"../operations/restore\"));\n\nvar _clipNode = _interopRequireDefault(require(\"../operations/clipNode\"));\n\nvar _resolveObjectFit = _interopRequireDefault(require(\"../utils/resolveObjectFit\"));\n\nconst drawImage = ctx => node => {\n  var _node$style, _node$style2, _node$style3, _node$style4;\n\n  const {\n    left,\n    top\n  } = node.box;\n  const opacity = (_node$style = node.style) === null || _node$style === void 0 ? void 0 : _node$style.opacity;\n  const objectFit = (_node$style2 = node.style) === null || _node$style2 === void 0 ? void 0 : _node$style2.objectFit;\n  const objectPositionX = (_node$style3 = node.style) === null || _node$style3 === void 0 ? void 0 : _node$style3.objectPositionX;\n  const objectPositionY = (_node$style4 = node.style) === null || _node$style4 === void 0 ? void 0 : _node$style4.objectPositionY;\n  const paddingTop = node.box.paddingLeft || 0;\n  const paddingRight = node.box.paddingRight || 0;\n  const paddingBottom = node.box.paddingBottom || 0;\n  const paddingLeft = node.box.paddingLeft || 0;\n  const {\n    width,\n    height,\n    xOffset,\n    yOffset\n  } = (0, _resolveObjectFit.default)(objectFit, node.box.width - paddingLeft - paddingRight, node.box.height - paddingTop - paddingBottom, node.image.width, node.image.height, objectPositionX, objectPositionY);\n\n  if (node.image.data) {\n    if (width !== 0 && height !== 0) {\n      ctx.fillOpacity(opacity || 1).image(node.image.data, left + paddingLeft + xOffset, top + paddingTop + yOffset, {\n        width,\n        height\n      });\n    } else {\n      console.warn(`Image with src '${node.props.src}' skipped due to invalid dimensions`);\n    }\n  }\n\n  return node;\n};\n\nconst renderImage = (ctx, node) => {\n  R.compose((0, _restore.default)(ctx), drawImage(ctx), (0, _clipNode.default)(ctx), (0, _save.default)(ctx))(node);\n  return node;\n};\n\nvar _default = R.curryN(2, renderImage);\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/kaja/Code/mallar/app/node_modules/@react-pdf/render/lib/primitives/renderImage.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","default","R","_save","_restore","_clipNode","_resolveObjectFit","drawImage","ctx","node","_node$style","_node$style2","_node$style3","_node$style4","left","top","box","opacity","style","objectFit","objectPositionX","objectPositionY","paddingTop","paddingLeft","paddingRight","paddingBottom","width","height","xOffset","yOffset","image","data","fillOpacity","console","warn","props","src","renderImage","compose","_default","curryN"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _save = _interopRequireDefault(require(\"../operations/save\"));\n\nvar _restore = _interopRequireDefault(require(\"../operations/restore\"));\n\nvar _clipNode = _interopRequireDefault(require(\"../operations/clipNode\"));\n\nvar _resolveObjectFit = _interopRequireDefault(require(\"../utils/resolveObjectFit\"));\n\nconst drawImage = ctx => node => {\n  var _node$style, _node$style2, _node$style3, _node$style4;\n\n  const {\n    left,\n    top\n  } = node.box;\n  const opacity = (_node$style = node.style) === null || _node$style === void 0 ? void 0 : _node$style.opacity;\n  const objectFit = (_node$style2 = node.style) === null || _node$style2 === void 0 ? void 0 : _node$style2.objectFit;\n  const objectPositionX = (_node$style3 = node.style) === null || _node$style3 === void 0 ? void 0 : _node$style3.objectPositionX;\n  const objectPositionY = (_node$style4 = node.style) === null || _node$style4 === void 0 ? void 0 : _node$style4.objectPositionY;\n  const paddingTop = node.box.paddingLeft || 0;\n  const paddingRight = node.box.paddingRight || 0;\n  const paddingBottom = node.box.paddingBottom || 0;\n  const paddingLeft = node.box.paddingLeft || 0;\n  const {\n    width,\n    height,\n    xOffset,\n    yOffset\n  } = (0, _resolveObjectFit.default)(objectFit, node.box.width - paddingLeft - paddingRight, node.box.height - paddingTop - paddingBottom, node.image.width, node.image.height, objectPositionX, objectPositionY);\n\n  if (node.image.data) {\n    if (width !== 0 && height !== 0) {\n      ctx.fillOpacity(opacity || 1).image(node.image.data, left + paddingLeft + xOffset, top + paddingTop + yOffset, {\n        width,\n        height\n      });\n    } else {\n      console.warn(`Image with src '${node.props.src}' skipped due to invalid dimensions`);\n    }\n  }\n\n  return node;\n};\n\nconst renderImage = (ctx, node) => {\n  R.compose((0, _restore.default)(ctx), drawImage(ctx), (0, _clipNode.default)(ctx), (0, _save.default)(ctx))(node);\n  return node;\n};\n\nvar _default = R.curryN(2, renderImage);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}