{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _absSvgPath = _interopRequireDefault(require(\"abs-svg-path\"));\n\nvar _parseSvgPath = _interopRequireDefault(require(\"parse-svg-path\"));\n\nvar _normalizeSvgPath = _interopRequireDefault(require(\"normalize-svg-path\"));\n\nvar _isRect = _interopRequireDefault(require(\"../utils/isRect\"));\n\nvar _isLine = _interopRequireDefault(require(\"../utils/isLine\"));\n\nvar _isPath = _interopRequireDefault(require(\"../utils/isPath\"));\n\nvar _isCircle = _interopRequireDefault(require(\"../utils/isCircle\"));\n\nvar _isPolygon = _interopRequireDefault(require(\"../utils/isPolygon\"));\n\nvar _isEllipse = _interopRequireDefault(require(\"../utils/isEllipse\"));\n\nvar _isPolyline = _interopRequireDefault(require(\"../utils/isPolyline\"));\n\nvar _parsePoints = _interopRequireDefault(require(\"./parsePoints\")); // From https://github.com/dy/svg-path-bounds/blob/master/index.js\n\n\nconst getPathBoundingBox = node => {\n  const path = R.compose(_normalizeSvgPath.default, _absSvgPath.default, _parseSvgPath.default, R.pathOr('', ['props', 'd']))(node);\n  if (!path.length) return [0, 0, 0, 0];\n  const bounds = [Infinity, Infinity, -Infinity, -Infinity];\n\n  for (let i = 0, l = path.length; i < l; i += 1) {\n    const points = path[i].slice(1);\n\n    for (let j = 0; j < points.length; j += 2) {\n      if (points[j + 0] < bounds[0]) bounds[0] = points[j + 0];\n      if (points[j + 1] < bounds[1]) bounds[1] = points[j + 1];\n      if (points[j + 0] > bounds[2]) bounds[2] = points[j + 0];\n      if (points[j + 1] > bounds[3]) bounds[3] = points[j + 1];\n    }\n  }\n\n  return bounds;\n};\n\nconst getCircleBoundingBox = node => {\n  const r = R.pathOr(0, ['props', 'r'], node);\n  const cx = R.pathOr(0, ['props', 'cx'], node);\n  const cy = R.pathOr(0, ['props', 'cy'], node);\n  return [cx - r, cy - r, cx + r, cy + r];\n};\n\nconst getEllipseBoundingBox = node => {\n  const cx = R.pathOr(0, ['props', 'cx'], node);\n  const cy = R.pathOr(0, ['props', 'cy'], node);\n  const rx = R.pathOr(0, ['props', 'rx'], node);\n  const ry = R.pathOr(0, ['props', 'ry'], node);\n  return [cx - rx, cy - ry, cx + rx, cy + ry];\n};\n\nconst getLineBoundingBox = node => {\n  const x1 = R.pathOr(0, ['props', 'x1'], node);\n  const y1 = R.pathOr(0, ['props', 'y1'], node);\n  const x2 = R.pathOr(0, ['props', 'x2'], node);\n  const y2 = R.pathOr(0, ['props', 'y2'], node);\n  return [R.min(x1, x2), R.min(y1, y2), R.max(x1, x2), R.max(y1, y2)];\n};\n\nconst getRectBoundingBox = node => {\n  const x = R.pathOr(0, ['props', 'x'], node);\n  const y = R.pathOr(0, ['props', 'y'], node);\n  const width = R.pathOr(0, ['props', 'width'], node);\n  const height = R.pathOr(0, ['props', 'height'], node);\n  return [x, y, x + width, y + height];\n};\n\nconst max = R.reduce(R.max, -Infinity);\nconst min = R.reduce(R.min, Infinity);\n\nconst getPolylineBoundingBox = node => {\n  const points = R.compose(_parsePoints.default, R.pathOr([], ['props', 'points']))(node);\n  const xValues = R.pluck(0, points);\n  const yValues = R.pluck(1, points);\n  return [min(xValues), min(yValues), max(xValues), max(yValues)];\n};\n\nconst getBoundingBox = R.cond([[_isRect.default, getRectBoundingBox], [_isLine.default, getLineBoundingBox], [_isPath.default, getPathBoundingBox], [_isCircle.default, getCircleBoundingBox], [_isEllipse.default, getEllipseBoundingBox], [_isPolygon.default, getPolylineBoundingBox], [_isPolyline.default, getPolylineBoundingBox], [R.T, R.always([0, 0, 0, 0])]]);\nvar _default = getBoundingBox;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kaja/Code/mallar/app/node_modules/@react-pdf/render/lib/svg/getBoundingBox.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","default","R","_absSvgPath","_parseSvgPath","_normalizeSvgPath","_isRect","_isLine","_isPath","_isCircle","_isPolygon","_isEllipse","_isPolyline","_parsePoints","getPathBoundingBox","node","path","compose","pathOr","length","bounds","Infinity","i","l","points","slice","j","getCircleBoundingBox","r","cx","cy","getEllipseBoundingBox","rx","ry","getLineBoundingBox","x1","y1","x2","y2","min","max","getRectBoundingBox","x","y","width","height","reduce","getPolylineBoundingBox","xValues","pluck","yValues","getBoundingBox","cond","T","always","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _absSvgPath = _interopRequireDefault(require(\"abs-svg-path\"));\n\nvar _parseSvgPath = _interopRequireDefault(require(\"parse-svg-path\"));\n\nvar _normalizeSvgPath = _interopRequireDefault(require(\"normalize-svg-path\"));\n\nvar _isRect = _interopRequireDefault(require(\"../utils/isRect\"));\n\nvar _isLine = _interopRequireDefault(require(\"../utils/isLine\"));\n\nvar _isPath = _interopRequireDefault(require(\"../utils/isPath\"));\n\nvar _isCircle = _interopRequireDefault(require(\"../utils/isCircle\"));\n\nvar _isPolygon = _interopRequireDefault(require(\"../utils/isPolygon\"));\n\nvar _isEllipse = _interopRequireDefault(require(\"../utils/isEllipse\"));\n\nvar _isPolyline = _interopRequireDefault(require(\"../utils/isPolyline\"));\n\nvar _parsePoints = _interopRequireDefault(require(\"./parsePoints\"));\n\n// From https://github.com/dy/svg-path-bounds/blob/master/index.js\nconst getPathBoundingBox = node => {\n  const path = R.compose(_normalizeSvgPath.default, _absSvgPath.default, _parseSvgPath.default, R.pathOr('', ['props', 'd']))(node);\n  if (!path.length) return [0, 0, 0, 0];\n  const bounds = [Infinity, Infinity, -Infinity, -Infinity];\n\n  for (let i = 0, l = path.length; i < l; i += 1) {\n    const points = path[i].slice(1);\n\n    for (let j = 0; j < points.length; j += 2) {\n      if (points[j + 0] < bounds[0]) bounds[0] = points[j + 0];\n      if (points[j + 1] < bounds[1]) bounds[1] = points[j + 1];\n      if (points[j + 0] > bounds[2]) bounds[2] = points[j + 0];\n      if (points[j + 1] > bounds[3]) bounds[3] = points[j + 1];\n    }\n  }\n\n  return bounds;\n};\n\nconst getCircleBoundingBox = node => {\n  const r = R.pathOr(0, ['props', 'r'], node);\n  const cx = R.pathOr(0, ['props', 'cx'], node);\n  const cy = R.pathOr(0, ['props', 'cy'], node);\n  return [cx - r, cy - r, cx + r, cy + r];\n};\n\nconst getEllipseBoundingBox = node => {\n  const cx = R.pathOr(0, ['props', 'cx'], node);\n  const cy = R.pathOr(0, ['props', 'cy'], node);\n  const rx = R.pathOr(0, ['props', 'rx'], node);\n  const ry = R.pathOr(0, ['props', 'ry'], node);\n  return [cx - rx, cy - ry, cx + rx, cy + ry];\n};\n\nconst getLineBoundingBox = node => {\n  const x1 = R.pathOr(0, ['props', 'x1'], node);\n  const y1 = R.pathOr(0, ['props', 'y1'], node);\n  const x2 = R.pathOr(0, ['props', 'x2'], node);\n  const y2 = R.pathOr(0, ['props', 'y2'], node);\n  return [R.min(x1, x2), R.min(y1, y2), R.max(x1, x2), R.max(y1, y2)];\n};\n\nconst getRectBoundingBox = node => {\n  const x = R.pathOr(0, ['props', 'x'], node);\n  const y = R.pathOr(0, ['props', 'y'], node);\n  const width = R.pathOr(0, ['props', 'width'], node);\n  const height = R.pathOr(0, ['props', 'height'], node);\n  return [x, y, x + width, y + height];\n};\n\nconst max = R.reduce(R.max, -Infinity);\nconst min = R.reduce(R.min, Infinity);\n\nconst getPolylineBoundingBox = node => {\n  const points = R.compose(_parsePoints.default, R.pathOr([], ['props', 'points']))(node);\n  const xValues = R.pluck(0, points);\n  const yValues = R.pluck(1, points);\n  return [min(xValues), min(yValues), max(xValues), max(yValues)];\n};\n\nconst getBoundingBox = R.cond([[_isRect.default, getRectBoundingBox], [_isLine.default, getLineBoundingBox], [_isPath.default, getPathBoundingBox], [_isCircle.default, getCircleBoundingBox], [_isEllipse.default, getEllipseBoundingBox], [_isPolygon.default, getPolylineBoundingBox], [_isPolyline.default, getPolylineBoundingBox], [R.T, R.always([0, 0, 0, 0])]]);\nvar _default = getBoundingBox;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}