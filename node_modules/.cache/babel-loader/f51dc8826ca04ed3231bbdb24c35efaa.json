{"ast":null,"code":"// Generated by CoffeeScript 1.12.1\n\n/*\nPDFObject - converts JavaScript types into their corrisponding PDF types.\nBy Devon Govett\n */\n(function () {\n  var PDFObject, PDFReference;\n\n  PDFObject = function () {\n    var escapable, escapableRe, pad, swapBytes;\n\n    function PDFObject() {}\n\n    pad = function (str, length) {\n      return (Array(length + 1).join('0') + str).slice(-length);\n    };\n\n    escapableRe = /[\\n\\r\\t\\b\\f\\(\\)\\\\]/g;\n    escapable = {\n      '\\n': '\\\\n',\n      '\\r': '\\\\r',\n      '\\t': '\\\\t',\n      '\\b': '\\\\b',\n      '\\f': '\\\\f',\n      '\\\\': '\\\\\\\\',\n      '(': '\\\\(',\n      ')': '\\\\)'\n    };\n\n    swapBytes = function (buff) {\n      var a, i, j, l, ref;\n      l = buff.length;\n\n      if (l & 0x01) {\n        throw new Error(\"Buffer length must be even\");\n      } else {\n        for (i = j = 0, ref = l - 1; j < ref; i = j += 2) {\n          a = buff[i];\n          buff[i] = buff[i + 1];\n          buff[i + 1] = a;\n        }\n      }\n\n      return buff;\n    };\n\n    PDFObject.convert = function (object) {\n      var e, i, isUnicode, items, j, key, out, ref, string, val;\n\n      if (typeof object === 'string') {\n        return '/' + object;\n      } else if (object instanceof String) {\n        string = object.replace(escapableRe, function (c) {\n          return escapable[c];\n        });\n        isUnicode = false;\n\n        for (i = j = 0, ref = string.length; j < ref; i = j += 1) {\n          if (string.charCodeAt(i) > 0x7f) {\n            isUnicode = true;\n            break;\n          }\n        }\n\n        if (isUnicode) {\n          string = swapBytes(new Buffer('\\ufeff' + string, 'utf16le')).toString('binary');\n        }\n\n        return '(' + string + ')';\n      } else if (Buffer.isBuffer(object)) {\n        return '<' + object.toString('hex') + '>';\n      } else if (object instanceof PDFReference) {\n        return object.toString();\n      } else if (object instanceof Date) {\n        return '(D:' + pad(object.getUTCFullYear(), 4) + pad(object.getUTCMonth() + 1, 2) + pad(object.getUTCDate(), 2) + pad(object.getUTCHours(), 2) + pad(object.getUTCMinutes(), 2) + pad(object.getUTCSeconds(), 2) + 'Z)';\n      } else if (Array.isArray(object)) {\n        items = function () {\n          var k, len, results;\n          results = [];\n\n          for (k = 0, len = object.length; k < len; k++) {\n            e = object[k];\n            results.push(PDFObject.convert(e));\n          }\n\n          return results;\n        }().join(' ');\n\n        return '[' + items + ']';\n      } else if ({}.toString.call(object) === '[object Object]') {\n        out = ['<<'];\n\n        for (key in object) {\n          val = object[key];\n          out.push('/' + key + ' ' + PDFObject.convert(val));\n        }\n\n        out.push('>>');\n        return out.join('\\n');\n      } else if (typeof object === 'number') {\n        return PDFObject.number(object);\n      } else {\n        return '' + object;\n      }\n    };\n\n    PDFObject.number = function (n) {\n      if (n > -1e21 && n < 1e21) {\n        return Math.round(n * 1e6) / 1e6;\n      }\n\n      throw new Error(\"unsupported number: \" + n);\n    };\n\n    return PDFObject;\n  }();\n\n  module.exports = PDFObject;\n  PDFReference = require('./reference');\n}).call(this);","map":{"version":3,"sources":["/Users/kaja/Code/mallar/node_modules/pdfkit/js/object.js"],"names":["PDFObject","PDFReference","escapable","escapableRe","pad","swapBytes","str","length","Array","join","slice","buff","a","i","j","l","ref","Error","convert","object","e","isUnicode","items","key","out","string","val","String","replace","c","charCodeAt","Buffer","toString","isBuffer","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","isArray","k","len","results","push","call","number","n","Math","round","module","exports","require"],"mappings":"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","sourcesContent":["// Generated by CoffeeScript 1.12.1\n\n/*\nPDFObject - converts JavaScript types into their corrisponding PDF types.\nBy Devon Govett\n */\n\n(function() {\n  var PDFObject, PDFReference;\n\n  PDFObject = (function() {\n    var escapable, escapableRe, pad, swapBytes;\n\n    function PDFObject() {}\n\n    pad = function(str, length) {\n      return (Array(length + 1).join('0') + str).slice(-length);\n    };\n\n    escapableRe = /[\\n\\r\\t\\b\\f\\(\\)\\\\]/g;\n\n    escapable = {\n      '\\n': '\\\\n',\n      '\\r': '\\\\r',\n      '\\t': '\\\\t',\n      '\\b': '\\\\b',\n      '\\f': '\\\\f',\n      '\\\\': '\\\\\\\\',\n      '(': '\\\\(',\n      ')': '\\\\)'\n    };\n\n    swapBytes = function(buff) {\n      var a, i, j, l, ref;\n      l = buff.length;\n      if (l & 0x01) {\n        throw new Error(\"Buffer length must be even\");\n      } else {\n        for (i = j = 0, ref = l - 1; j < ref; i = j += 2) {\n          a = buff[i];\n          buff[i] = buff[i + 1];\n          buff[i + 1] = a;\n        }\n      }\n      return buff;\n    };\n\n    PDFObject.convert = function(object) {\n      var e, i, isUnicode, items, j, key, out, ref, string, val;\n      if (typeof object === 'string') {\n        return '/' + object;\n      } else if (object instanceof String) {\n        string = object.replace(escapableRe, function(c) {\n          return escapable[c];\n        });\n        isUnicode = false;\n        for (i = j = 0, ref = string.length; j < ref; i = j += 1) {\n          if (string.charCodeAt(i) > 0x7f) {\n            isUnicode = true;\n            break;\n          }\n        }\n        if (isUnicode) {\n          string = swapBytes(new Buffer('\\ufeff' + string, 'utf16le')).toString('binary');\n        }\n        return '(' + string + ')';\n      } else if (Buffer.isBuffer(object)) {\n        return '<' + object.toString('hex') + '>';\n      } else if (object instanceof PDFReference) {\n        return object.toString();\n      } else if (object instanceof Date) {\n        return '(D:' + pad(object.getUTCFullYear(), 4) + pad(object.getUTCMonth() + 1, 2) + pad(object.getUTCDate(), 2) + pad(object.getUTCHours(), 2) + pad(object.getUTCMinutes(), 2) + pad(object.getUTCSeconds(), 2) + 'Z)';\n      } else if (Array.isArray(object)) {\n        items = ((function() {\n          var k, len, results;\n          results = [];\n          for (k = 0, len = object.length; k < len; k++) {\n            e = object[k];\n            results.push(PDFObject.convert(e));\n          }\n          return results;\n        })()).join(' ');\n        return '[' + items + ']';\n      } else if ({}.toString.call(object) === '[object Object]') {\n        out = ['<<'];\n        for (key in object) {\n          val = object[key];\n          out.push('/' + key + ' ' + PDFObject.convert(val));\n        }\n        out.push('>>');\n        return out.join('\\n');\n      } else if (typeof object === 'number') {\n        return PDFObject.number(object);\n      } else {\n        return '' + object;\n      }\n    };\n\n    PDFObject.number = function(n) {\n      if (n > -1e21 && n < 1e21) {\n        return Math.round(n * 1e6) / 1e6;\n      }\n      throw new Error(\"unsupported number: \" + n);\n    };\n\n    return PDFObject;\n\n  })();\n\n  module.exports = PDFObject;\n\n  PDFReference = require('./reference');\n\n}).call(this);\n"]},"metadata":{},"sourceType":"script"}